---
stoplight-id: d1v6q5vmd99y1
tags: [Authentication]
---

# Authentication

The CoverForce API uses an AccessToken mechanism to authenticate its clients.



## Access Token Authentication

First use your Username (ClientId) and Password (ClientSecret) to get an expiring access token via the `/auth` endpoint, and then include that as a bearer token in your request’s “Authorization” header. AccessToken's expire after a set period of time mentioned in the response.

### Generating access tokens

During the onboarding process each client will be assigned a Username and Password.
CoverForce uses Basic Auth to generate the Access Token. Basic authentication is a simple authentication scheme built into the HTTP protocol. To use it, send your `/auth` request with an Authorization header that contains the word Basic followed by a space and a base64-encoded string `username:password`.

Let's assume the username and password assigned to your client are `username` and `password` respectively. An example cURL request for the `/auth` endpoint is below:


```shell
curl --request POST \
  --url https://sandbox.api.coverforce.com/auth \
  --header 'Accept: application/json' \
  --header 'Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=' \
  --header 'Content-Type: application/x-www-form-urlencoded' \
  --data '{
  "grant_type": "client_credentials"
}'
```

The response will include the access token and will have the following schema:

```json json_schema
{
  "type": "object",
  "title": "Auth API Response",
  "properties": {
    "access_token": {
      "type": "string",
      "description": "The access token generated by CoverForce"
    },
    "expires_in": {
      "type": "number",
      "description": "The number of seconds the access token is valid for"
    },
    "token_type": {
      "type": "string",
      "description": "Will always be {Bearer}"
    },
  },
  "required": ["access_token","expires_in","token_type"]
}
```

An example response can be seen below:

```json json
{
  "access_token": "eyJraWQiOiJ6S2pvSU0xZ0V0cFJNcWF2MzRHdVRHUWVuVms3VUxCVDVQSndFU3FBRFcwPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIycWpmZWdtMWV2MTI2ZzhmbjBrZWt1Zmx1MCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29tLmNmLmFjY291bnRzc2VydmljZVwvYWNjb3VudHNTZXJ2aWNlLndyaXRlIGNvbS5jZi5hcHBsaGVscGVyc2VydmljZVwvYXBwbEhlbHBlclNlcnZpY2Uud3JpdGUiLCJhdXRoX3RpbWUiOjE2OTUzODg2MzAsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC51cy13ZXN0LTIuYW1hem9uYXdzLmNvbVwvdXMtd2VzdC0yXzVvOXRuRzNSTSIsImV4cCI6MTY5NTM5MjIzMCwiaWF0IjoxNjk1Mzg4NjMwLCJ2ZXJzaW9uIjoyLCJqdGkiOiJiMjM5YTdjOC05YjhlLTQyNzgtODkxYS03MmMyODk0NzAxYTQiLCJjbGllbnRfaWQiOiIycWpmZWdtMWV2MTI2ZzhmbjBrZWt1Zmx1MCJ9.de4wnOWC4jE7loHMZX6prlwm1QcAKwuONclElaKNElAGfjJyKrDY2J7t5sGsbmhdrpJGUjJ3JIa8JPPWdJV8cOmArn2Q2BclP-EJWCGD5xoBgaKkWwBGn9Z_QBpfx1ukMgbVKxOvUGCzJ1Fk-1dGhEf_BzyHXAGkvUAg7MevJ5vTM8_qtveEDyjxvkRWbyPgRVtfrcN57cuez8IPznscesoRBrotMcZmaia5gnNp0bELD5_GQ5_BiLu-Nst5-fRKNWdfHLxo9cpigr0qFAqyGdy9FyklxcLpHUjJkv3DvlzDKNKoAH18qZqXo5G2TkXaABg4VCd2uqsE-LztyDmaeQ",
  "expires_in": 3600,
  "token_type": "Bearer"
}
```

The `access_token` returned can be used in subsequent requests to all other CoverForce APIs. It should be passed in the headers of the API request, formatted as `Bearer {access_token}`. An example cURL request is below:

```shell
curl --request GET \
  --url https://sandbox.api.coverforce.com/application/applicationId \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer <access_token>'
```

Throughout this API guide you can test out various APIs from the guide itself. In order to test out the APIs you will require a token. If you have generated an access token in the Sandbox environment you can use it by pasting it in the Token field of the APIs. The Coverforce API is organized using RESTful principles. We have resource-oriented URLs, return JSON-encoded responses, and use standard HTTP response codes, authentication, and verbs.

You can find more details on the Authentication endpoint in our [API docs auth endpoint](https://coverforce.stoplight.io/docs/coverforce-api/26d3e75c404c4-authentication) reference.


Below is a sequence diagram describing the sequence of calls to access any of the CoverForce APIs.

```mermaid
sequenceDiagram

Client->>CF Auth API: POST /auth
Note left of CF Auth API: Pass username:password as base-64 encoded string
CF Auth API-->>Client: Access token returned
Client-->>CF API: GET /application/ 
Note left of CF API: Pass `Bearer access_token` in headers
CF API-->>Client: API Response
```
